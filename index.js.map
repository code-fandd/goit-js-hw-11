{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function getImages(query) {\n\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '49142350-3598e22618d74866452dac633',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}?${params}`;\n\n    return axios.get(url)\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return null;\n            }\n            return response.data.hits;\n        })\n        .catch(error => {\n            console.error('Error fetching images:', error);\n            iziToast.error({\n                message: 'Something went wrong. Please try again later.',\n                position: 'topRight',\n            });\n            throw error;\n        });\n}","export function imagesRender(obj) {\n    return `<div\n  class=\"image-container fb js-image-container\"\n  style=\"justify-content: start\"\n>\n  <div class=\"image-card card\">\n    <a class=\"photo-container\" href=\"${obj.largeImageURL\n}\">\n      <img src=\"${obj.webformatURL}\" alt=\"${obj.tags}\" class=\"photo\" />\n    </a>\n    <ul class=\"image-body\">\n      <li>\n        <h2>Likes</h2>\n        <p>${obj.likes}</p>\n      </li>\n      <li>\n        <h2>Views</h2>\n        <p>${obj.views}</p>\n      </li>\n      <li>\n        <h2>Comments</h2>\n        <p>${obj.comments}</p>\n      </li>\n      <li>\n        <h2>Downloads</h2>\n        <p>${obj.downloads}</p>\n      </li>\n    </ul>\n  </div>\n</div>`\n}","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImages } from './js/pixabay-api';\nimport { imagesRender } from './js/render-functions';\n\nlet lightbox = new SimpleLightbox('.gallery a', { \n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nconst refs = {\n    formEl: document.querySelector('#search-images'),\n    galleryEl: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n};\n\nrefs.formEl.addEventListener('submit', e => {\n    e.preventDefault();\n    const userValue = e.target.elements.query.value.trim();\n\n    refs.loader.style.display = 'block';\n    refs.galleryEl.innerHTML = ''; \n    setTimeout(() => {\n        getImages(userValue)\n            .then(images => {\n                if (!images) {\n                    return;\n                }\n                const markup = images.map(imagesRender).join(''); \n                refs.galleryEl.insertAdjacentHTML('beforeend', markup);\n                lightbox.refresh();\n            })\n            .catch(error => {\n                console.error('Error fetching images:', error);\n                iziToast.error({\n                    message: 'Something went wrong. Please try again later.',\n                    position: 'topRight',\n                });\n            })\n            .finally(() => {\n                refs.loader.style.display = 'none';\n            });\n    }, 1000);\n\n    e.target.reset();\n});"],"names":["getImages","query","BASE_URL","params","url","axios","response","iziToast","error","imagesRender","obj","lightbox","SimpleLightbox","refs","e","userValue","images","markup"],"mappings":"owBAIO,SAASA,EAAUC,EAAO,CAE7B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAOE,EAAM,IAAID,CAAG,EACf,KAAKE,GACEA,EAAS,KAAK,KAAK,SAAW,GAC9BC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACM,MAEJD,EAAS,KAAK,IACxB,EACA,MAAME,GAAS,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EAC7CD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAC1B,CAAa,EACKC,CAClB,CAAS,CACT,CCnCO,SAASC,EAAaC,EAAK,CAC9B,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA,uCAK4BA,EAAI,aAC3C;AAAA,kBACkBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAKvCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,aAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,aAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,aAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,OAK1B,CCrBA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,MAAMC,EAAO,CACT,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,GAAK,CACxCA,EAAE,eAAc,EAChB,MAAMC,EAAYD,EAAE,OAAO,SAAS,MAAM,MAAM,OAEhDD,EAAK,OAAO,MAAM,QAAU,QAC5BA,EAAK,UAAU,UAAY,GAC3B,WAAW,IAAM,CACbb,EAAUe,CAAS,EACd,KAAKC,GAAU,CACZ,GAAI,CAACA,EACD,OAEJ,MAAMC,EAASD,EAAO,IAAIP,CAAY,EAAE,KAAK,EAAE,EAC/CI,EAAK,UAAU,mBAAmB,YAAaI,CAAM,EACrDN,EAAS,QAAO,CAChC,CAAa,EACA,MAAMH,GAAS,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAC9B,CAAiB,CACjB,CAAa,EACA,QAAQ,IAAM,CACXM,EAAK,OAAO,MAAM,QAAU,MAC5C,CAAa,CACR,EAAE,GAAI,EAEPC,EAAE,OAAO,OACb,CAAC"}